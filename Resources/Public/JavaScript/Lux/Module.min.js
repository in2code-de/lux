define(["jquery"],function(t){"use strict";function e(t){var l=this;this.initialize=function(){e(),a(),i(),n(),r(),c(),s(),o(),u(),d(),x()};var e=function(){for(var e=document.querySelectorAll("[data-lux-action-leadlistdetail]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-leadlistdetail");f(TYPO3.settings.ajaxUrls["/lux/leadlistdetail"],{visitor:t},"generalDetailCallback")})},a=function(){for(var e=document.querySelectorAll("[data-lux-action-analysiscontentdetailpage]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysiscontentdetailpage");f(TYPO3.settings.ajaxUrls["/lux/analysiscontentdetailpage"],{page:t},"generalDetailCallback")})},i=function(){for(var e=document.querySelectorAll("[data-lux-action-analysisnewsdetailpage]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysisnewsdetailpage");f(TYPO3.settings.ajaxUrls["/lux/analysisnewsdetailpage"],{news:t},"generalDetailCallback")})},n=function(){for(var e=document.querySelectorAll("[data-lux-action-analysissearchdetailpage]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysissearchdetailpage");f(TYPO3.settings.ajaxUrls["/lux/analysissearchdetailpage"],{searchterm:t},"generalDetailCallback")})},r=function(){for(var e=document.querySelectorAll("[data-lux-action-analysiscontentdetaildownload]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysiscontentdetaildownload");f(TYPO3.settings.ajaxUrls["/lux/analysiscontentdetaildownload"],{download:t},"generalDetailCallback")})},c=function(){for(var e=document.querySelectorAll("[data-lux-action-analysislinklistenerdetail]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-analysislinklistenerdetail");f(TYPO3.settings.ajaxUrls["/lux/analysislinklistenerdetail"],{linkListener:t},"generalDetailCallback")})},s=function(){for(var e=document.querySelectorAll("[data-lux-action-workflowurlshortenerdetail]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){g(e,"lux-action-detail"),this.classList.add("lux-action-detail");var t=this.getAttribute("data-lux-action-workflowurlshortenerdetail");f(TYPO3.settings.ajaxUrls["/luxenterprise/workflowurlshortenerdetail"],{urlShortener:t},"generalDetailCallback")})},o=function(){var t=document.querySelector('[data-lux-container="detail"]');null!==t&&t.addEventListener("click",function(t){var e,t=t.target;0<t.getAttribute("data-lux-visitor-description")&&(t.classList.contains("lux-textarea__default")&&(t.classList.remove("lux-textarea__default"),t.value=""),e=t.getAttribute("data-lux-visitor-description"),t.addEventListener("blur",function(){f(TYPO3.settings.ajaxUrls["/lux/visitordescription"],{visitor:e,value:this.value},null)}))})},u=function(){var t=document.querySelector('[data-lux-container="detail"]');null!==t&&t.addEventListener("click",function(t){var t=t.target;null!==t.getAttribute("data-lux-linkmock-event")&&(t=t.getAttribute("data-lux-linkmock-event"),null!==(t=document.querySelector('[data-lux-linkmock-link="'+t+'"]'))&&t.click())})};this.generalDetailCallback=function(t){document.querySelector('[data-lux-container="detail"]').innerHTML=t.html,window.LuxDiagramObject.initialize()};var d=function(){null!==document.querySelector(".t3js-datetimepicker")&&require(["TYPO3/CMS/Backend/DateTimePicker"],function(t){t.initialize()})},x=function(){for(var t=document.querySelectorAll("[data-lux-confirm]"),e=0;e<t.length;e++)t[e].addEventListener("click",function(t){var e=t.currentTarget.getAttribute("data-lux-confirm");!1===confirm(e)&&t.preventDefault()})},g=function(t,e){for(var a=0;a<t.length;a++)t[a].classList.remove(e)},f=function(t,e,a){var i;void 0!==t&&""!==t?((i=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&200===this.status&&null!==a&&l[a](JSON.parse(this.responseText))},i.open("POST",v(t,e),!0),i.send()):console.log("No ajax URI given!")},v=function(t,e){for(var a in e)e.hasOwnProperty(a)&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=a+"="+encodeURIComponent(e[a]));return t}}t(document).ready(function(){(new e).initialize()})});